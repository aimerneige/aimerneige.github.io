<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>find 指令的基本用法 | Aimer's Blog</title>
<meta name=keywords content="tool,cli"><meta name=description content="什么是 find 正如它的名字一样，find 指令用于查找文件。
Linux find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。
来源: 菜鸟教程
The find command in UNIX is a command line utility for walking a file hierarchy. It can be used to find files and directories and perform subsequent operations on them. It supports searching by file, folder, name, creation date, modification date, owner and permissions. By using the ‘-exec’ other UNIX commands can be executed on files or folders found."><meta name=author content="Aimer Neige"><link rel=canonical href=https://aimerneige.com/zh/post/linux/basic-usage-of-find/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://aimerneige.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://aimerneige.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://aimerneige.com/favicon-32x32.png><link rel=apple-touch-icon href=https://aimerneige.com/apple-touch-icon.png><link rel=mask-icon href=https://aimerneige.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=zh href=https://aimerneige.com/zh/post/linux/basic-usage-of-find/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://aimerneige.com/zh/post/linux/basic-usage-of-find/"><meta property="og:site_name" content="Aimer's Blog"><meta property="og:title" content="find 指令的基本用法"><meta property="og:description" content="什么是 find 正如它的名字一样，find 指令用于查找文件。
Linux find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。
来源: 菜鸟教程
The find command in UNIX is a command line utility for walking a file hierarchy. It can be used to find files and directories and perform subsequent operations on them. It supports searching by file, folder, name, creation date, modification date, owner and permissions. By using the ‘-exec’ other UNIX commands can be executed on files or folders found."><meta property="og:locale" content="zh"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-03-12T19:36:29+08:00"><meta property="article:modified_time" content="2022-03-12T19:36:29+08:00"><meta property="article:tag" content="Tool"><meta property="article:tag" content="Cli"><meta property="og:image" content="https://aimerneige.com/images/find.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://aimerneige.com/images/find.png"><meta name=twitter:title content="find 指令的基本用法"><meta name=twitter:description content="什么是 find 正如它的名字一样，find 指令用于查找文件。
Linux find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。
来源: 菜鸟教程
The find command in UNIX is a command line utility for walking a file hierarchy. It can be used to find files and directories and perform subsequent operations on them. It supports searching by file, folder, name, creation date, modification date, owner and permissions. By using the ‘-exec’ other UNIX commands can be executed on files or folders found."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"文章 📝","item":"https://aimerneige.com/zh/post/"},{"@type":"ListItem","position":2,"name":"find 指令的基本用法","item":"https://aimerneige.com/zh/post/linux/basic-usage-of-find/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"find 指令的基本用法","name":"find 指令的基本用法","description":"什么是 find 正如它的名字一样，find 指令用于查找文件。\nLinux find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。\n来源: 菜鸟教程\nThe find command in UNIX is a command line utility for walking a file hierarchy. It can be used to find files and directories and perform subsequent operations on them. It supports searching by file, folder, name, creation date, modification date, owner and permissions. By using the ‘-exec’ other UNIX commands can be executed on files or folders found.","keywords":["tool","cli"],"articleBody":"什么是 find 正如它的名字一样，find 指令用于查找文件。\nLinux find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。\n来源: 菜鸟教程\nThe find command in UNIX is a command line utility for walking a file hierarchy. It can be used to find files and directories and perform subsequent operations on them. It supports searching by file, folder, name, creation date, modification date, owner and permissions. By using the ‘-exec’ other UNIX commands can be executed on files or folders found.\nFrom: Geeks for Geeks\n基础语法 find [options] [path...] [expression] The options attribute controls the treatment of the symbolic links, debugging options, and optimization method. The path... attribute defines the starting directory or directories where find will search the files. The expression attribute is made up of options, search patterns, and actions separated by operators. From: Linuxize\n[options] options 属性用于控制一些额外选项。\n注释\n如果查询 man find，会得到这样一份语法说明:\nfind [-H] [-L] [-P] [-D debugopts] [-Olevel] [starting-point...] [expression] 本文将 [-H] [-L] [-P] [-D debugopts] [-Olevel] 这一部分抽象成了 options\n-H, -L and -P 用于控制对 symbolic link 的处理方法。\n[-D debugopts] 用于控制调试功能。\n[-Olevel] 用于控制优化方法。\n具体细节查 man 吧，这块也不常用，有空补。 [path…] path 即开始查找的根目录。\n使用 find 时，这里可以是一个目录，也可以是多个目录。\n警告\n用户必须有对应目录的读权限才可以正常执行，否则会返回错误信息。\n[expression] 包含各种选项，搜索模式和操作。比如可以指定文件名，文件大小，修改日期等选项来过滤查找内容。\n使用样例 搜索当前目录下全部名称为 avatar 的文件或文件夹 find . -name \"avatar\" 搜索当前目录下所有 go 源代码文件 find . -name \"*.go\" -type f 注释\n如果没有 -type f，输出结果可能包含有以 *.go 结尾的文件夹。\n查找最近 20 天内更新过的文件 find . -ctime -20 只搜索当前目录下的文件和文件夹而不递归搜索 find . -maxdepth 1 警告\n-maxdepth 作为全局选项应该位于其他选项的前面。\n# 正确的做法 find . -maxdepth 1 -name \"*avatar*\" # 不当的做法（会有警告） find . -name \"*avatar*\" -maxdepth 1 删除当前目录下名为 temp 的文件 # 直接删 find . -type f -name \"temp\" -delete # 打印一下删了哪些文件 find . -type f -name \"temp\" -delete -print # 为了防止删错，还是确认一下吧 find . -type f -name \"temp\" -ok rm {} \\; 查找一下七天前的旧日志，并在删除之前询问它们 find ./log -type f -mtime +7 -ok rm {} \\; 查找指定目录下有哪些空文件 # 打印文件名 find /home/aimerneige /root -type f -size 0 # 调用 ls 看一下文件属性吧 find /home/aimerneige /root -type f -size 0 -exec ls -l {} \\; 查找当前目录下指定大小范围内的文件 # 大于 200k find . -type f -size +200k # 小于200k find . -type f -size -200k # 在 50k 与 200k 之间 find . -type f -size +50k -200k 查找全部 ntfs 硬盘中拷贝出的文件 # 查找权限为 777 的文件，并打印详细信息 find . -type f -perm 777 -exec ls -l {} \\; # 777 太讨厌了，权限改为默认的 664 find . -type f -perm 777 -exec chmod 664 {} \\; 看一下当前目录下文件占用情况 find . -type d -exec du -sh {} \\; 批量添加文件后缀 find . -type f -name \"*.JPG\" -exec mv {} {}.jpg \\; 使用 bat 查看当前目录下全部 go 源代码 find . -type f -name \"*.go\" -exec bat {} \\; 使用技巧 当搜索目标路径为当前目录.时，可以省略不写 find -type f -name \"*.go\" # 上面的指令和下面的等价 find . -type f -name \"*.go\" 当结果过多时，使用 xargs 代替 -exec find ~ -type f -name \"*.cpp\" -exec ls -l {} \\; exec 的原理是将查找结果一次性发送到后面的命令当中，如果结果过多会导致数据溢出而报错。\n使用管道以及 xargs 来避免这个问题：\nfind ~ -type f -name \"*.cpp\" | xargs ls -l 结果太多了不好看，我们把结果输出到一个文件里面。\nfind ~ -type f -name \"*.cpp\" | xargs ls -l \u003e ./result.txt ","wordCount":"461","inLanguage":"zh","image":"https://aimerneige.com/images/find.png","datePublished":"2022-03-12T19:36:29+08:00","dateModified":"2022-03-12T19:36:29+08:00","author":{"@type":"Person","name":"Aimer Neige"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://aimerneige.com/zh/post/linux/basic-usage-of-find/"},"publisher":{"@type":"Organization","name":"Aimer's Blog","logo":{"@type":"ImageObject","url":"https://aimerneige.com/favicon.ico"}}}</script></head><body id=top><script>window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://aimerneige.com/zh/ accesskey=h title="Aimer's Blog (Alt + H)">Aimer's Blog</a><div class=logo-switches><ul class=lang-switch><li>|</li><li><a href=https://aimerneige.com/en/ title=English aria-label=English>English</a></li></ul></div></div><ul id=menu><li><a href=https://aimerneige.com/zh/about/ title=关于><span>关于</span></a></li><li><a href=https://aimerneige.com/zh/post/ title=文章><span>文章</span></a></li><li><a href=https://aimerneige.com/zh/archives/ title=归档><span>归档</span></a></li><li><a href=https://aimerneige.com/zh/tags/ title=标签><span>标签</span></a></li><li><a href=https://aimerneige.com/zh/categories/ title=分类><span>分类</span></a></li><li><a href=https://aimerneige.com/zh/search/ title=搜索><span>搜索</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://aimerneige.com/zh/>主页</a>&nbsp;»&nbsp;<a href=https://aimerneige.com/zh/post/>文章 📝</a></div><h1 class="post-title entry-hint-parent">find 指令的基本用法</h1><div class=post-meta><span title='2022-03-12 19:36:29 +0800 +0800'>三月 12, 2022</span>&nbsp;·&nbsp;Aimer Neige&nbsp;|&nbsp;<a href=https://github.com/aimerneige/blog/edit/master/content/post/Linux/basic-usage-of-find.zh.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=eager src=https://aimerneige.com/images/find.png alt="Find Command On Cool Retro Term"></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>目录</span></summary><div class=inner><ul><li><a href=#%e4%bb%80%e4%b9%88%e6%98%af-find aria-label="什么是 find">什么是 find</a></li><li><a href=#%e5%9f%ba%e7%a1%80%e8%af%ad%e6%b3%95 aria-label=基础语法>基础语法</a><ul><li><a href=#options aria-label=[options]>[options]</a></li><li><a href=#path aria-label=[path&mldr;]>[path&mldr;]</a></li><li><a href=#expression aria-label=[expression]>[expression]</a></li></ul></li><li><a href=#%e4%bd%bf%e7%94%a8%e6%a0%b7%e4%be%8b aria-label=使用样例>使用样例</a><ul><ul><li><a href=#%e6%90%9c%e7%b4%a2%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b%e5%85%a8%e9%83%a8%e5%90%8d%e7%a7%b0%e4%b8%ba-avatar-%e7%9a%84%e6%96%87%e4%bb%b6%e6%88%96%e6%96%87%e4%bb%b6%e5%a4%b9 aria-label="搜索当前目录下全部名称为 avatar 的文件或文件夹">搜索当前目录下全部名称为 avatar 的文件或文件夹</a></li><li><a href=#%e6%90%9c%e7%b4%a2%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b%e6%89%80%e6%9c%89-go-%e6%ba%90%e4%bb%a3%e7%a0%81%e6%96%87%e4%bb%b6 aria-label="搜索当前目录下所有 go 源代码文件">搜索当前目录下所有 go 源代码文件</a></li><li><a href=#%e6%9f%a5%e6%89%be%e6%9c%80%e8%bf%91-20-%e5%a4%a9%e5%86%85%e6%9b%b4%e6%96%b0%e8%bf%87%e7%9a%84%e6%96%87%e4%bb%b6 aria-label="查找最近 20 天内更新过的文件">查找最近 20 天内更新过的文件</a></li><li><a href=#%e5%8f%aa%e6%90%9c%e7%b4%a2%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b%e7%9a%84%e6%96%87%e4%bb%b6%e5%92%8c%e6%96%87%e4%bb%b6%e5%a4%b9%e8%80%8c%e4%b8%8d%e9%80%92%e5%bd%92%e6%90%9c%e7%b4%a2 aria-label=只搜索当前目录下的文件和文件夹而不递归搜索>只搜索当前目录下的文件和文件夹而不递归搜索</a></li><li><a href=#%e5%88%a0%e9%99%a4%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b%e5%90%8d%e4%b8%ba-temp-%e7%9a%84%e6%96%87%e4%bb%b6 aria-label="删除当前目录下名为 temp 的文件">删除当前目录下名为 temp 的文件</a></li><li><a href=#%e6%9f%a5%e6%89%be%e4%b8%80%e4%b8%8b%e4%b8%83%e5%a4%a9%e5%89%8d%e7%9a%84%e6%97%a7%e6%97%a5%e5%bf%97%e5%b9%b6%e5%9c%a8%e5%88%a0%e9%99%a4%e4%b9%8b%e5%89%8d%e8%af%a2%e9%97%ae%e5%ae%83%e4%bb%ac aria-label=查找一下七天前的旧日志，并在删除之前询问它们>查找一下七天前的旧日志，并在删除之前询问它们</a></li><li><a href=#%e6%9f%a5%e6%89%be%e6%8c%87%e5%ae%9a%e7%9b%ae%e5%bd%95%e4%b8%8b%e6%9c%89%e5%93%aa%e4%ba%9b%e7%a9%ba%e6%96%87%e4%bb%b6 aria-label=查找指定目录下有哪些空文件>查找指定目录下有哪些空文件</a></li><li><a href=#%e6%9f%a5%e6%89%be%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b%e6%8c%87%e5%ae%9a%e5%a4%a7%e5%b0%8f%e8%8c%83%e5%9b%b4%e5%86%85%e7%9a%84%e6%96%87%e4%bb%b6 aria-label=查找当前目录下指定大小范围内的文件>查找当前目录下指定大小范围内的文件</a></li><li><a href=#%e6%9f%a5%e6%89%be%e5%85%a8%e9%83%a8-ntfs-%e7%a1%ac%e7%9b%98%e4%b8%ad%e6%8b%b7%e8%b4%9d%e5%87%ba%e7%9a%84%e6%96%87%e4%bb%b6 aria-label="查找全部 ntfs 硬盘中拷贝出的文件">查找全部 ntfs 硬盘中拷贝出的文件</a></li><li><a href=#%e7%9c%8b%e4%b8%80%e4%b8%8b%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b%e6%96%87%e4%bb%b6%e5%8d%a0%e7%94%a8%e6%83%85%e5%86%b5 aria-label=看一下当前目录下文件占用情况>看一下当前目录下文件占用情况</a></li><li><a href=#%e6%89%b9%e9%87%8f%e6%b7%bb%e5%8a%a0%e6%96%87%e4%bb%b6%e5%90%8e%e7%bc%80 aria-label=批量添加文件后缀>批量添加文件后缀</a></li><li><a href=#%e4%bd%bf%e7%94%a8-bat-%e6%9f%a5%e7%9c%8b%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e4%b8%8b%e5%85%a8%e9%83%a8-go-%e6%ba%90%e4%bb%a3%e7%a0%81 aria-label="使用 bat 查看当前目录下全部 go 源代码">使用 bat 查看当前目录下全部 go 源代码</a></li></ul></ul></li><li><a href=#%e4%bd%bf%e7%94%a8%e6%8a%80%e5%b7%a7 aria-label=使用技巧>使用技巧</a><ul><ul><li><a href=#%e5%bd%93%e6%90%9c%e7%b4%a2%e7%9b%ae%e6%a0%87%e8%b7%af%e5%be%84%e4%b8%ba%e5%bd%93%e5%89%8d%e7%9b%ae%e5%bd%95%e6%97%b6%e5%8f%af%e4%bb%a5%e7%9c%81%e7%95%a5%e4%b8%8d%e5%86%99 aria-label=当搜索目标路径为当前目录.时，可以省略不写>当搜索目标路径为当前目录.时，可以省略不写</a></li><li><a href=#%e5%bd%93%e7%bb%93%e6%9e%9c%e8%bf%87%e5%a4%9a%e6%97%b6%e4%bd%bf%e7%94%a8-xargs-%e4%bb%a3%e6%9b%bf--exec aria-label="当结果过多时，使用 xargs 代替 -exec">当结果过多时，使用 xargs 代替 -exec</a></li></ul></ul></li></ul></div></details></div><div class=post-content><h1 id=什么是-find>什么是 <code>find</code><a hidden class=anchor aria-hidden=true href=#什么是-find>#</a></h1><p>正如它的名字一样，<code>find</code> 指令用于查找文件。</p><blockquote><p>Linux find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则 find 命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。</p><p>来源: <a href=https://www.runoob.com/linux/linux-comm-find.html>菜鸟教程</a></p></blockquote><blockquote><p>The find command in UNIX is a command line utility for walking a file hierarchy. It can be used to find files and directories and perform subsequent operations on them. It supports searching by file, folder, name, creation date, modification date, owner and permissions. By using the ‘-exec’ other UNIX commands can be executed on files or folders found.</p><p>From: <a href=https://www.geeksforgeeks.org/find-command-in-linux-with-examples/>Geeks for Geeks</a></p></blockquote><h1 id=基础语法>基础语法<a hidden class=anchor aria-hidden=true href=#基础语法>#</a></h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find <span style=color:#f92672>[</span>options<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>path...<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>expression<span style=color:#f92672>]</span>
</span></span></code></pre></div><blockquote><ul><li>The <code>options</code> attribute controls the treatment of the symbolic links, debugging options, and optimization method.</li><li>The <code>path...</code> attribute defines the starting directory or directories where find will search the files.</li><li>The <code>expression</code> attribute is made up of options, search patterns, and actions separated by operators.</li></ul><p>From: <a href=https://linuxize.com/post/how-to-find-files-in-linux-using-the-command-line/>Linuxize</a></p></blockquote><h2 id=options>[options]<a hidden class=anchor aria-hidden=true href=#options>#</a></h2><p><code>options</code> 属性用于控制一些额外选项。</p><style type=text/css>.notice{--title-color:#fff;--title-background-color:#6be;--content-color:#444;--content-background-color:#e7f2fa}.notice.info{--title-background-color:#fb7;--content-background-color:#fec}.notice.tip{--title-background-color:#5a5;--content-background-color:#efe}.notice.warning{--title-background-color:#c33;--content-background-color:#fee}@media(prefers-color-scheme:dark){.notice{--title-color:#fff;--title-background-color:#069;--content-color:#ddd;--content-background-color:#023}.notice.info{--title-background-color:#a50;--content-background-color:#420}.notice.tip{--title-background-color:#363;--content-background-color:#121}.notice.warning{--title-background-color:#800;--content-background-color:#400}}body.dark .notice{--title-color:#fff;--title-background-color:#069;--content-color:#ddd;--content-background-color:#023}body.dark .notice.info{--title-background-color:#a50;--content-background-color:#420}body.dark .notice.tip{--title-background-color:#363;--content-background-color:#121}body.dark .notice.warning{--title-background-color:#800;--content-background-color:#400}.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:var(--content-color);background:var(--content-background-color)}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:var(--title-color);background:var(--title-background-color)}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><div class="notice note"><p class=notice-title><span class="icon-notice baseline"><svg viewBox="0 128 300 300"><path d="M150 128c82.813.0 150 67.188 150 150 0 82.813-67.188 150-150 150C67.187 428 0 360.812.0 278c0-82.813 67.188-150 150-150zm25 243.555v-37.11c0-3.515-2.734-6.445-6.055-6.445h-37.5c-3.515.0-6.445 2.93-6.445 6.445v37.11c0 3.515 2.93 6.445 6.445 6.445h37.5c3.32.0 6.055-2.93 6.055-6.445zm-.39-67.188 3.515-121.289c0-1.367-.586-2.734-1.953-3.516-1.172-.976-2.93-1.562-4.688-1.562h-42.968c-1.758.0-3.516.586-4.688 1.563-1.367.78-1.953 2.148-1.953 3.515l3.32 121.29c0 2.734 2.93 4.882 6.64 4.882h36.134c3.515.0 6.445-2.148 6.64-4.883z"/></svg>
</span>注释</p><p>如果查询 <code>man find</code>，会得到这样一份语法说明:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find <span style=color:#f92672>[</span>-H<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-L<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-P<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-D debugopts<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>-Olevel<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>starting-point...<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>expression<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>本文将 <code>[-H] [-L] [-P] [-D debugopts] [-Olevel]</code> 这一部分抽象成了 <code>options</code></p></div><p><code>-H</code>, <code>-L</code> and <code>-P</code> 用于控制对 <a href=https://en.wikipedia.org/wiki/Symbolic_link>symbolic link</a> 的处理方法。</p><p><code>[-D debugopts]</code> 用于控制调试功能。</p><p><code>[-Olevel]</code> 用于控制优化方法。</p><style type=text/css>.heimu{color:#000;background-color:#000}.heimu:hover{color:#fff}</style><span class=heimu title=你知道的太多了>具体细节查 man 吧，这块也不常用，有空补。</span><h2 id=path>[path&mldr;]<a hidden class=anchor aria-hidden=true href=#path>#</a></h2><p><code>path</code> 即开始查找的根目录。</p><p>使用 <code>find</code> 时，这里可以是一个目录，也可以是多个目录。</p><div class="notice warning"><p class=notice-title><span class="icon-notice baseline"><svg viewBox="126 76.5 300 300"><path d="M297.431 324.397v-34.255c0-3.245-2.344-5.95-5.358-5.95h-32.146c-3.014.0-5.358 2.705-5.358 5.95v34.255c0 3.245 2.344 5.95 5.358 5.95h32.146c3.014.0 5.358-2.705 5.358-5.95zm-.335-67.428 3.014-82.753c0-1.081-.502-2.524-1.674-3.425-1.005-.902-2.512-1.983-4.019-1.983h-36.834c-1.507.0-3.014 1.081-4.019 1.983-1.172.901-1.674 2.704-1.674 3.786l2.846 82.392c0 2.344 2.512 4.146 5.693 4.146h30.975c3.013.0 5.525-1.803 5.692-4.146zm-2.344-168.39L423.34 342.425c3.683 7.032 3.516 15.686-.335 22.717-3.85 7.031-10.883 11.358-18.417 11.358H147.413c-7.534.0-14.566-4.327-18.417-11.358-3.85-7.031-4.018-15.685-.335-22.716L257.248 88.578C260.93 81.188 268.13 76.5 276 76.5s15.069 4.688 18.752 12.08z"/></svg>
</span>警告</p><p>用户必须有对应目录的读权限才可以正常执行，否则会返回错误信息。</p></div><h2 id=expression>[expression]<a hidden class=anchor aria-hidden=true href=#expression>#</a></h2><p>包含各种选项，搜索模式和操作。比如可以指定文件名，文件大小，修改日期等选项来过滤查找内容。</p><h1 id=使用样例>使用样例<a hidden class=anchor aria-hidden=true href=#使用样例>#</a></h1><h3 id=搜索当前目录下全部名称为-avatar-的文件或文件夹>搜索当前目录下全部名称为 <code>avatar</code> 的文件或文件夹<a hidden class=anchor aria-hidden=true href=#搜索当前目录下全部名称为-avatar-的文件或文件夹>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find . -name <span style=color:#e6db74>&#34;avatar&#34;</span>
</span></span></code></pre></div><h3 id=搜索当前目录下所有-go-源代码文件>搜索当前目录下所有 go 源代码文件<a hidden class=anchor aria-hidden=true href=#搜索当前目录下所有-go-源代码文件>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find . -name <span style=color:#e6db74>&#34;*.go&#34;</span> -type f
</span></span></code></pre></div><div class="notice note"><p class=notice-title><span class="icon-notice baseline"><svg viewBox="0 128 300 300"><path d="M150 128c82.813.0 150 67.188 150 150 0 82.813-67.188 150-150 150C67.187 428 0 360.812.0 278c0-82.813 67.188-150 150-150zm25 243.555v-37.11c0-3.515-2.734-6.445-6.055-6.445h-37.5c-3.515.0-6.445 2.93-6.445 6.445v37.11c0 3.515 2.93 6.445 6.445 6.445h37.5c3.32.0 6.055-2.93 6.055-6.445zm-.39-67.188 3.515-121.289c0-1.367-.586-2.734-1.953-3.516-1.172-.976-2.93-1.562-4.688-1.562h-42.968c-1.758.0-3.516.586-4.688 1.563-1.367.78-1.953 2.148-1.953 3.515l3.32 121.29c0 2.734 2.93 4.882 6.64 4.882h36.134c3.515.0 6.445-2.148 6.64-4.883z"/></svg>
</span>注释</p><p>如果没有 <code>-type f</code>，输出结果可能包含有以 <code>*.go</code> 结尾的文件夹。</p></div><h3 id=查找最近-20-天内更新过的文件>查找最近 20 天内更新过的文件<a hidden class=anchor aria-hidden=true href=#查找最近-20-天内更新过的文件>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find . -ctime -20
</span></span></code></pre></div><h3 id=只搜索当前目录下的文件和文件夹而不递归搜索>只搜索当前目录下的文件和文件夹而不递归搜索<a hidden class=anchor aria-hidden=true href=#只搜索当前目录下的文件和文件夹而不递归搜索>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find . -maxdepth <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><div class="notice warning"><p class=notice-title><span class="icon-notice baseline"><svg viewBox="126 76.5 300 300"><path d="M297.431 324.397v-34.255c0-3.245-2.344-5.95-5.358-5.95h-32.146c-3.014.0-5.358 2.705-5.358 5.95v34.255c0 3.245 2.344 5.95 5.358 5.95h32.146c3.014.0 5.358-2.705 5.358-5.95zm-.335-67.428 3.014-82.753c0-1.081-.502-2.524-1.674-3.425-1.005-.902-2.512-1.983-4.019-1.983h-36.834c-1.507.0-3.014 1.081-4.019 1.983-1.172.901-1.674 2.704-1.674 3.786l2.846 82.392c0 2.344 2.512 4.146 5.693 4.146h30.975c3.013.0 5.525-1.803 5.692-4.146zm-2.344-168.39L423.34 342.425c3.683 7.032 3.516 15.686-.335 22.717-3.85 7.031-10.883 11.358-18.417 11.358H147.413c-7.534.0-14.566-4.327-18.417-11.358-3.85-7.031-4.018-15.685-.335-22.716L257.248 88.578C260.93 81.188 268.13 76.5 276 76.5s15.069 4.688 18.752 12.08z"/></svg>
</span>警告</p><p><code>-maxdepth</code> 作为全局选项应该位于其他选项的前面。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 正确的做法</span>
</span></span><span style=display:flex><span>find . -maxdepth <span style=color:#ae81ff>1</span> -name <span style=color:#e6db74>&#34;*avatar*&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 不当的做法（会有警告）</span>
</span></span><span style=display:flex><span>find . -name <span style=color:#e6db74>&#34;*avatar*&#34;</span> -maxdepth <span style=color:#ae81ff>1</span>
</span></span></code></pre></div></div><h3 id=删除当前目录下名为-temp-的文件>删除当前目录下名为 temp 的文件<a hidden class=anchor aria-hidden=true href=#删除当前目录下名为-temp-的文件>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 直接删</span>
</span></span><span style=display:flex><span>find . -type f -name <span style=color:#e6db74>&#34;temp&#34;</span> -delete
</span></span><span style=display:flex><span><span style=color:#75715e># 打印一下删了哪些文件</span>
</span></span><span style=display:flex><span>find . -type f -name <span style=color:#e6db74>&#34;temp&#34;</span> -delete -print
</span></span><span style=display:flex><span><span style=color:#75715e># 为了防止删错，还是确认一下吧</span>
</span></span><span style=display:flex><span>find . -type f -name <span style=color:#e6db74>&#34;temp&#34;</span> -ok rm <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><h3 id=查找一下七天前的旧日志并在删除之前询问它们>查找一下七天前的旧日志，并在删除之前询问它们<a hidden class=anchor aria-hidden=true href=#查找一下七天前的旧日志并在删除之前询问它们>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find ./log -type f -mtime +7 -ok rm <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><h3 id=查找指定目录下有哪些空文件>查找指定目录下有哪些空文件<a hidden class=anchor aria-hidden=true href=#查找指定目录下有哪些空文件>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 打印文件名</span>
</span></span><span style=display:flex><span>find /home/aimerneige /root -type f -size <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 调用 ls 看一下文件属性吧</span>
</span></span><span style=display:flex><span>find /home/aimerneige /root -type f -size <span style=color:#ae81ff>0</span> -exec ls -l <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><h3 id=查找当前目录下指定大小范围内的文件>查找当前目录下指定大小范围内的文件<a hidden class=anchor aria-hidden=true href=#查找当前目录下指定大小范围内的文件>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 大于 200k</span>
</span></span><span style=display:flex><span>find . -type f -size +200k
</span></span><span style=display:flex><span><span style=color:#75715e># 小于200k</span>
</span></span><span style=display:flex><span>find . -type f -size -200k
</span></span><span style=display:flex><span><span style=color:#75715e># 在 50k 与 200k 之间</span>
</span></span><span style=display:flex><span>find . -type f -size +50k -200k
</span></span></code></pre></div><h3 id=查找全部-ntfs-硬盘中拷贝出的文件>查找全部 ntfs 硬盘中拷贝出的文件<a hidden class=anchor aria-hidden=true href=#查找全部-ntfs-硬盘中拷贝出的文件>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># 查找权限为 777 的文件，并打印详细信息</span>
</span></span><span style=display:flex><span>find . -type f -perm <span style=color:#ae81ff>777</span> -exec ls -l <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 777 太讨厌了，权限改为默认的 664</span>
</span></span><span style=display:flex><span>find . -type f -perm <span style=color:#ae81ff>777</span> -exec chmod <span style=color:#ae81ff>664</span> <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><h3 id=看一下当前目录下文件占用情况>看一下当前目录下文件占用情况<a hidden class=anchor aria-hidden=true href=#看一下当前目录下文件占用情况>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find . -type d -exec du -sh <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><h3 id=批量添加文件后缀>批量添加文件后缀<a hidden class=anchor aria-hidden=true href=#批量添加文件后缀>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find . -type f -name <span style=color:#e6db74>&#34;*.JPG&#34;</span> -exec mv <span style=color:#f92672>{}</span> <span style=color:#f92672>{}</span>.jpg <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><h3 id=使用-bat-查看当前目录下全部-go-源代码>使用 bat 查看当前目录下全部 go 源代码<a hidden class=anchor aria-hidden=true href=#使用-bat-查看当前目录下全部-go-源代码>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find . -type f -name <span style=color:#e6db74>&#34;*.go&#34;</span> -exec bat <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><h1 id=使用技巧>使用技巧<a hidden class=anchor aria-hidden=true href=#使用技巧>#</a></h1><h3 id=当搜索目标路径为当前目录时可以省略不写>当搜索目标路径为当前目录<code>.</code>时，可以省略不写<a hidden class=anchor aria-hidden=true href=#当搜索目标路径为当前目录时可以省略不写>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find -type f -name <span style=color:#e6db74>&#34;*.go&#34;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># 上面的指令和下面的等价</span>
</span></span><span style=display:flex><span>find . -type f -name <span style=color:#e6db74>&#34;*.go&#34;</span>
</span></span></code></pre></div><h3 id=当结果过多时使用-xargs-代替--exec>当结果过多时，使用 <code>xargs</code> 代替 <code>-exec</code><a hidden class=anchor aria-hidden=true href=#当结果过多时使用-xargs-代替--exec>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find ~ -type f -name <span style=color:#e6db74>&#34;*.cpp&#34;</span> -exec ls -l <span style=color:#f92672>{}</span> <span style=color:#ae81ff>\;</span>
</span></span></code></pre></div><p>exec 的原理是将查找结果一次性发送到后面的命令当中，如果结果过多会导致数据溢出而报错。</p><p>使用管道以及 xargs 来避免这个问题：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find ~ -type f -name <span style=color:#e6db74>&#34;*.cpp&#34;</span> | xargs ls -l
</span></span></code></pre></div><p>结果太多了不好看，我们把结果输出到一个文件里面。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>find ~ -type f -name <span style=color:#e6db74>&#34;*.cpp&#34;</span> | xargs ls -l &gt; ./result.txt
</span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://aimerneige.com/zh/tags/tool/>Tool</a></li><li><a href=https://aimerneige.com/zh/tags/cli/>Cli</a></li></ul><nav class=paginav><a class=prev href=https://aimerneige.com/zh/post/others/install-fedora35-on-wsl/><span class=title>« 上一页</span><br><span>在 wsl 下安装 fedora 35</span>
</a><a class=next href=https://aimerneige.com/zh/post/java/start-develop-spring-project-on-vscode/><span class=title>下一页 »</span><br><span>使用 vscode 开发 Spring 项目</span></a></nav></footer><div id=license><p>This article is licensed under
<a target=_blank rel=noopener href=http://creativecommons.org/licenses/by-nc/4.0/ style=color:#00b5da><u>CC-BY-NC-4.0</u></a></p></div><div id=comment><script id=utterances src=https://utteranc.es/client.js repo=aimerneige/aimerneige.github.io issue-term=title label=comment theme=preferred-color-scheme crossorigin=anonymous async></script><script>let ua=navigator.userAgent.toLocaleLowerCase();ua.match(/QQ/i)=="qq"&&document.getElementById("utterances").remove(),ua.match(/MicroMessenger/i)=="micromessenger"&&document.getElementById("utterances").remove()</script></div></article></main><footer class=footer><span>&copy; 2025 <a href=https://aimerneige.com/zh/>Aimer's Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="复制";function s(){t.innerHTML="已复制！",setTimeout(()=>{t.innerHTML="复制"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>